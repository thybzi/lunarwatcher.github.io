<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-language content="en-US"><title>Devlogs: 2022, week 52-3 | Olivia's blog</title><script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
<link rel=stylesheet type=text/css href=https://lunarwatcher.github.io/scss/style.min.css><link rel=alternate type=application/rss+xml title="Olivia's blog" href=https://lunarwatcher.github.io/blog/feed.xml><meta property="og:title" content="Devlogs: 2022, week 52-3"><meta property="og:url" content="https://lunarwatcher.github.io/newsletter.html"></head><body><header><nav class=nav-container><div class=container><h1 class="logo left"><a href=/>Olivia</a></h1><div id=sidenav class=sidenav><a href=javascript:void(0) class=close onclick=closeSidenav()>&#215;</a>
<a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags.html>Tags</a>
<a href=/notes/>Notes</a>
<a href=/emojis.html>Emoji reference</a></div><div class="topnav right"><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags.html>Tags</a>
<a href=/notes/>Notes</a>
<a href=/emojis.html>Emoji reference</a></div><span class=sidenav-trigger onclick=openSidenav()>&#9776;</span></div></nav></header><main><div class=container id=content><h1>Devlogs: 2022, week 52-3</h1><span class=post-meta>Posted on January 2nd, 2022</span>
<span class=post-meta>This post is a part of these series:
<a class=post-series href=https://lunarwatcher.github.io/series/devlogs.html>@devlogs</a></span><h2 id=02012022>02.01.2022</h2><h3 id=genesis>Genesis</h3><p>Spent time trying to figure out how I can make the texture atlas expandable. This has to be done in a way that lets me expand past whatever limits I currently have, based on some guesswork surrounding future sizes.</p><p>Aside expanding the base game if necessary, I'd also like to open for modding. Based on some light tinkering and general research, I belive a minecraft-like system is optimal.</p><p>But on the other hand, <a href="https://forums.factorio.com/viewtopic.php?t=20150">Factorio</a> flat out passes the raw textures, but this presents a few more challenges, particularly related to how my textures are currently pre-stitched. Manual stitching is done for the fonts, but with the fonts, I'm suspecting an on-demand system is better.</p><p>The texture management in general leaves a lot of problems here, but string identifiers lets us disregard paths; effectively, <code>base:textureType</code> refers to a base-game texture with the name <code>textureType</code>.</p><p>This is particularly important because it avoids problems if mod A and B both have a tile called <code>coal</code>, because one is <code>a:coal</code>, and the other is <code>b:coal</code>. Still doesn't avoid conflicting names, but this is currently an insigificant problem.</p><p>Unlike hard-coding these, though, it does present a bit of extra overhead. Lookup in <code>std::unordered_map</code>s appears to be slower for small maps, and faster for bigger ones, where as <code>std::map</code> is constantly <code>log(n)</code> or whatever. We'll see what happens here when I get more textures in place.</p><p>Annoyingly, this blocks continued work on chunks, because I need to be able to reference textures before I can do anything. I'm also starting to feel like an entity factory might be a good idea.</p><p>This is definitely a refactorable area though; for now, I'll roll with string identifiers. They're not used much anyway, so it should be fine for the near foreseeable future, and works a lot better, in my semi-biased opinion.</p><h2 id=200122>20.01.22</h2><h3 id=lunarwatchergithubio>lunarwatcher.github.io</h3><p>Decided to set up the GitHub Action to automatically wipe the previous deployment history to reduce repo size. All the history is already contained in the source repo, but with infinitely less noise from when I inevitably make a <em>tiny</em> change to a core template, and a number of files need massive changes in the diff of the produced output.</p><p>Nothing is lost, there's less redundant (and honestly useless in this case) data stored, everyone wins.</p><h2 id=250122>25.01.22</h2><h3 id=genesis-1>Genesis</h3><p>Finished refactoring the texture atlas to make it run on a string-based system. Should be possible to deal with metadata integration from here, as well as potential atlas merger, but this isn't a problem for the near foreseeable future, so deferring to future me.</p><h2 id=200222-210222>20.02.22-21.02.22</h2><p>Vim recently made changes to Vim9, and broke the previous autoload syntax. Patched two broken plugins (Pandora and Amber), and caught a bug in Pandora where <code>[text](//example.com)</code>-links weren't followed.</p><div class=comments><hr><h2 style=padding-top:20px!important>Comments</h2><i><p>All comments posted either through utteranc.es or manually on the associated GitHub issue end up on an associated issue in the <a href=https://github.com/LunarWatcher/lunarwatcher.github.io>website GitHub repo</a>, and as such are required to follow the <a href=https://github.com/LunarWatcher/lunarwatcher.github.io/blob/master/.github/CODE_OF_CONDUCT.md>project code of conduct</a>. Remember this while writing comments.</p></i><script src=https://utteranc.es/client.js repo=LunarWatcher/lunarwatcher.github.io issue-term=pathname label=comments theme=github-light crossorigin=anonymous async></script><noscript>You've disabled JavaScript, which the comment system makes use of to load them on the site. The comment threads can be found <a href=https://github.com/LunarWatcher/lunarwatcher.github.io/issues>in the issues for this repo</a>, if you don't trust this site and/or utterances. Note that unless someone has already commented, there isn't an issue made for this page yet.</noscript></div></div></main><footer class=page-footer><div class=footer-copyright><div class=container style=overflow:auto>&copy; Olivia, 2019-2021
(<a href=https://github.com/LunarWatcher/LunarWatcher.github.io/tree/master>Website source</a>, <a href=https://github.com/LunarWatcher/lunarwatcher.github.io/blob/master/LICENSE>license</a>)<p class=right>Powered by <a href=https://gohugo.io/>Hugo</a>
(<a href=javascript:uwu() id=uwu>UwU?</a>)</p></div></div></footer><script type=text/javascript src=https://lunarwatcher.github.io/js/functions.min.js></script></body></html>